(function(l,h,n,u,i,r,o,f){"use strict";const S=n.findByStoreName("GuildStore"),p=n.findByStoreName("UserSettingsProtoStore"),A=n.findByProps("ActionSheet")?.ActionSheet??n.find(function(d){return d?.render?.name==="ActionSheet"}),{hideActionSheet:a}=n.findByProps("hideActionSheet"),{downloadMediaAsset:B}=n.findByProps("downloadMediaAsset"),m=n.findByProps("favoriteSticker","unfavoriteSticker"),c={marginBottom:10},b=h.before("render",A,function(d){let[y]=d;const v=u.findInReactTree(y,function(t){return Array.isArray(t?.children)}),e=u.findInReactTree(y,function(t){return typeof t?.sticker=="object"&&t?.sticker?.hasOwnProperty("guild_id")})?.sticker,R=p.frecencyWithoutFetchingLatest?.favoriteStickers?.stickerIds;if(!v||!e)return;const s=!!R?.find(function(t){return t===e.id}),g=`https://discord.com/stickers/${e.id}.png`;v.children[1]=React.createElement(React.Fragment,null,Object.values(S.getGuilds()).find(function(t){return t.id===e.guild_id})&&React.createElement(i.Button,{text:s?"Remove from Favorites":"Add to Favorites",color:s?"red":"brand",style:c,size:"small",onPress:function(){return s?m.unfavoriteSticker(e.id):m.favoriteSticker(e.id),a(),r.showToast(s?"Removed from Favorites":"Added to Favorites",o.getAssetIDByName("Check"))}}),React.createElement(i.Button,{text:"Copy ID to clipboard",color:"brand",size:"small",style:c,onPress:function(){return f.clipboard.setString(e.id),a(),r.showToast(`Copied ${e.name}'s ID to clipboard`,o.getAssetIDByName("ic_copy_message_link"))}}),React.createElement(i.Button,{text:"Copy URL to clipboard",color:"brand",size:"small",style:c,onPress:function(){return f.clipboard.setString(g),a(),r.showToast(`Copied ${e.name}'s URL to clipboard`,o.getAssetIDByName("ic_copy_message_link"))}}),React.createElement(i.Button,{text:"Save image",color:"brand",size:"small",style:c,onPress:function(){return B(g,0),a(),r.showToast(`Saved ${e.name}'s image`,o.getAssetIDByName("toast_image_saved"))}}))}),k=function(){return b()};return l.onUnload=k,l})({},vendetta.patcher,vendetta.metro,vendetta.utils,vendetta.ui.components,vendetta.ui.toasts,vendetta.ui.assets,vendetta.metro.common);
